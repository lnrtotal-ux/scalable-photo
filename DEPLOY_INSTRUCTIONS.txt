#!/bin/bash

cat << 'EOF'

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                            â•‘
â•‘                 ğŸ“‹ GITHUB DEPLOYMENT INSTRUCTIONS                         â•‘
â•‘                                                                            â•‘
â•‘        Everything is ready! Follow these 4 simple steps to deploy         â•‘
â•‘                                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
STEP 1: SET UP GITHUB REPOSITORY (5 minutes)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Go to https://github.com and create a new repository:
   - Name: scalable-photo
   - Visibility: Public
   - Click "Create repository"

2. In your terminal, run:

   cd "Scalable - Benjamin"
   
   git remote add origin https://github.com/lnrtotal-ux/scalable-photo.git
   git branch -M main
   git add .
   git commit -m "initial commit"
   git push -u origin main

   (You may be prompted for GitHub authentication - use your username and 
   personal access token)

3. Verify: Go to https://github.com/lnrtotal-ux/scalable-photo
   You should see your code there âœ…

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
STEP 2: ADD GITHUB SECRETS (5 minutes)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

GitHub Actions needs Azure credentials to deploy.

PART A: Get Azure Publish Profile

1. Run this command:

   az webapp deployment list-publishing-profiles \
     --resource-group scalable-group \
     --name scalable-photo-app \
     --xml

2. The output is XML (very long). Copy the ENTIRE content.

PART B: Get Storage Account Key

1. Run this command:

   az storage account keys list \
     --resource-group scalable-group \
     --account-name scalablemediastorage \
     --query "[0].value" -o tsv

2. Copy the output (long string).

PART C: Add Secrets to GitHub

1. Go to: https://github.com/lnrtotal-ux/scalable-photo

2. Click Settings (top navigation bar)

3. Click "Secrets and variables" â†’ "Actions" (left sidebar)

4. Click "New repository secret" (green button)

5. Add FIRST secret:
   Name: AZURE_WEBAPP_PUBLISH_PROFILE
   Value: [Paste the XML from Part A]
   Click "Add secret"

6. Click "New repository secret" again

7. Add SECOND secret:
   Name: AZURE_STORAGE_ACCOUNT_KEY
   Value: [Paste the key from Part B]
   Click "Add secret"

8. Verify both appear in the list with green checkmarks âœ…

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
STEP 3: INITIALIZE DATABASE (5 minutes)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

The database needs tables and demo data.

1. Go to https://portal.azure.com

2. Search for "SQL databases" and click it

3. Click "scalable-db"

4. Click "Query editor" (left sidebar under "Data management")

5. Login with:
   Username: scalableadmin
   Password: scalable-admin-123!

6. Paste this entire SQL script:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[SQL SCRIPT STARTS HERE]

-- Users Table
IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Users')
BEGIN
    CREATE TABLE Users (
        UserId INT IDENTITY(1,1) PRIMARY KEY,
        Username NVARCHAR(50) NOT NULL UNIQUE,
        Email NVARCHAR(100) NOT NULL UNIQUE,
        PasswordHash NVARCHAR(255) NOT NULL,
        Role NVARCHAR(20) NOT NULL DEFAULT 'consumer' CHECK (Role IN ('consumer', 'creator', 'admin')),
        CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE(),
        INDEX IX_Users_Username (Username),
        INDEX IX_Users_Email (Email)
    )
END

-- Photos Table
IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Photos')
BEGIN
    CREATE TABLE Photos (
        PhotoId INT IDENTITY(1,1) PRIMARY KEY,
        UserId INT NOT NULL,
        Title NVARCHAR(200) NOT NULL,
        Caption NVARCHAR(1000),
        Location NVARCHAR(200),
        BlobUrl NVARCHAR(500) NOT NULL,
        ThumbnailUrl NVARCHAR(500),
        LikesCount INT NOT NULL DEFAULT 0,
        CommentsCount INT NOT NULL DEFAULT 0,
        CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE(),
        UpdatedAt DATETIME2 NOT NULL DEFAULT GETDATE(),
        FOREIGN KEY (UserId) REFERENCES Users(UserId) ON DELETE CASCADE,
        INDEX IX_Photos_UserId (UserId),
        INDEX IX_Photos_CreatedAt (CreatedAt DESC)
    )
END

-- Likes Table
IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Likes')
BEGIN
    CREATE TABLE Likes (
        LikeId INT IDENTITY(1,1) PRIMARY KEY,
        PhotoId INT NOT NULL,
        UserId INT NOT NULL,
        CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE(),
        FOREIGN KEY (PhotoId) REFERENCES Photos(PhotoId) ON DELETE CASCADE,
        FOREIGN KEY (UserId) REFERENCES Users(UserId) ON DELETE NO ACTION,
        UNIQUE (PhotoId, UserId),
        INDEX IX_Likes_PhotoId (PhotoId),
        INDEX IX_Likes_UserId (UserId)
    )
END

-- Comments Table
IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Comments')
BEGIN
    CREATE TABLE Comments (
        CommentId INT IDENTITY(1,1) PRIMARY KEY,
        PhotoId INT NOT NULL,
        UserId INT NOT NULL,
        CommentText NVARCHAR(500) NOT NULL,
        CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE(),
        FOREIGN KEY (PhotoId) REFERENCES Photos(PhotoId) ON DELETE CASCADE,
        FOREIGN KEY (UserId) REFERENCES Users(UserId) ON DELETE NO ACTION,
        INDEX IX_Comments_PhotoId (PhotoId),
        INDEX IX_Comments_CreatedAt (CreatedAt DESC)
    )
END

-- Demo Users
IF NOT EXISTS (SELECT * FROM Users WHERE Username = 'admin')
BEGIN
    INSERT INTO Users (Username, Email, PasswordHash, Role) 
    VALUES ('admin', 'admin@photoshare.local', '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW', 'admin')
END

IF NOT EXISTS (SELECT * FROM Users WHERE Username = 'john_creator')
BEGIN
    INSERT INTO Users (Username, Email, PasswordHash, Role) 
    VALUES ('john_creator', 'john@photoshare.local', '$2b$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'creator')
END

IF NOT EXISTS (SELECT * FROM Users WHERE Username = 'jane_user')
BEGIN
    INSERT INTO Users (Username, Email, PasswordHash, Role) 
    VALUES ('jane_user', 'jane@photoshare.local', '$2b$10$WNH3WC4iN4t1n5jlDzF0y.mRdGz4QP2DZNuqR2aH3g8Fy/MzOGR8K', 'consumer')
END

[SQL SCRIPT ENDS HERE]
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

7. Click "Run" button

8. You should see "Commands completed successfully" âœ…

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
STEP 4: DEPLOY! (Automatic)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Now that everything is set up, the final push triggers deployment:

1. In your terminal:

   git add .
   git commit -m "Ready for deployment"
   git push origin main

2. Go to GitHub Actions to monitor:
   
   https://github.com/lnrtotal-ux/scalable-photo â†’ Actions tab

3. You'll see "Deploy PhotoShare to Azure" workflow running

4. Wait 5-10 minutes for completion (green checkmark = success!)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… YOUR APPLICATION IS LIVE!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Once deployment succeeds, access your app:

ğŸŒ Frontend:  https://scalable-photo-app.azurewebsites.net

ğŸ“¡ API:       https://scalable-photo-app.azurewebsites.net/api

ğŸ’š Health:    https://scalable-photo-app.azurewebsites.net/health

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” LOGIN WITH DEMO ACCOUNTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

After the app is live, test with these accounts:

ADMIN Account:
  Username: admin
  Password: Admin123!

CREATOR Account (can upload photos):
  Username: john_creator
  Password: Creator123!

CONSUMER Account:
  Username: jane_user
  Password: User123!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”„ FUTURE DEPLOYMENTS (AUTOMATIC!)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

After the initial setup, deployment is automatic:

1. Make code changes locally
2. Commit: git commit -m "Your changes"
3. Push: git push origin main

GitHub Actions automatically deploys! No manual deployment needed.

Monitor deployments at: GitHub Actions tab

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â“ NEED HELP?
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Read these documentation files:

ğŸ“„ GITHUB_SETUP.md - Complete deployment guide with troubleshooting
ğŸ“„ AZURE_SETUP_COMPLETE.md - Summary of what's been configured
ğŸ“„ README.md - Project overview
ğŸ“„ docs/SETUP_GUIDE.md - Azure resource details

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

That's it! You now have a fully deployed PhotoShare application on Azure! ğŸ‰

EOF

